<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="shortcut icon" href="icon.jfif" type="image/png" />
    <link rel="stylesheet" href="magicBall.css" />
    <title>предсказания</title>
  </head>
  <body>
   
    <div class="main">
      <h1>TEST TEST TEST</h1>
      <div class="ball">
        <div id="answerBox" class="answerBox">
          <p class="answer" id="answer">Задай свой вопрос</p>
        </div>
      </div>
      <div class="buttons">
        <h1>Хочешь узнать свою судьбу?</h1>
        <p>
          Жми "старт", чтобы взболтать шар и "стоп", чтобы узнать свою судьбу
        </p>
        <button id="startButton">СТАРТ</button>
        <button id="stopButton">СТОП</button>
      </div>
    </div>
    <script>
      let obj = {
        0: "Определённо да", //синие
        1: "Бесспорно",
        2: "Предрешено",
        4: "Никаких сомнений",
        5: "Можешь быть уверен в этом",
        6: "Мне кажется — «да»", //Зеленые
        7: "Вероятнее всего",
        8: "Хорошие перспективы",
        9: "Знаки говорят — «да»",
        10: "Да",
        11: "Пока не ясно, попробуй снова", //ораньжевые
        12: "Спроси позже",
        13: "Лучше не рассказывать",
        14: "Сейчас нельзя предсказать",
        15: "Сконцентрируйся и спроси опять",
        16: "Даже не думай", //красные
        17: "Мой ответ — «нет»",
        18: "По моим данным — «нет»",
        19: "Перспективы не очень хорошие",
        20: "Весьма сомнительно",
      };

      let startButton = document.querySelector("#startButton");
      let stopButton = document.querySelector("#stopButton");
      let answer = document.querySelector("#answer");

      let timerId;

      answer.addEventListener("mouseover", function () {
        if (answer.innerHTML == obj[i]) {
          answer.innerHTML = "Задай свой вопрос";
        }
        answer.classList.remove("red", "orange", "green", "blue");
        answer.classList.add("neon-text");
      });

      startButton.addEventListener("click", function func() {
        answer.classList.remove("red", "orange", "green", "blue");
        timerId = setInterval(timer, 100);
        startButton.removeEventListener("click", func);

        stopButton.addEventListener("click", function () {
          startButton.addEventListener("click", func);
        });
      });

      stopButton.addEventListener("click", function stopFunc() {
        clearInterval(timerId);
        i = getRandomInt(0, 20);
        console.log(i);
        answer.innerHTML = obj[i];

        if (i >= 0 && i <= 5) {
          answer.classList.add("blue");
        } else if (i > 5 && i <= 10) {
          answer.classList.add("green");
        } else if (i > 10 && i <= 15) {
          answer.classList.add("orange");
        } else if (i > 15 && i <= 20) {
          answer.classList.add("red");
        }
        stopButton.removeEventListener("click", stopFunc);

        startButton.addEventListener("click", function () {
          stopButton.addEventListener("click", stopFunc);
        });
      });

      function getRandomInt(min, max) {
        return Math.floor(Math.random() * (max - min + 1)) + min;
      }

      function timer() {
        answer.innerHTML = getRandomInt(0, 20);
      }
    </script>
  </body>
</html>
